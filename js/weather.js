(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var weather=document.querySelector(".js-weather"),API_KEY="1b2ce23068764a3009981ae3c7b8954c",COORDS="coords";function getWeather(e,o){fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(o,"&appid=").concat(API_KEY,"&units=metric")).then(function(e){return e.json()}).then(function(e){console.log(e);var o=e.main.temp,t=e.name;weather.innerText="".concat(o," @ ").concat(t)})}function saveCoords(e){localStorage.setItem(COORDS,JSON.stringify(e))}function handleGeoSuccess(e){var o=e.coords.latitude,t=e.coords.longitude;saveCoords({latitude:o,longitude:t}),getWeather(o,t)}function handleGeoError(){console.log("Can't get geolocation.")}function askForCoords(){navigator.geolocation.getCurrentPosition(handleGeoSuccess,handleGeoError)}function loadCoords(){if(localStorage.getItem(COORDS)){var e=JSON.parse(localStorage.getItem(COORDS)),o=e.longitude;getWeather(e.latitude,o)}else askForCoords()}function init(){loadCoords()}init();

},{}]},{},[1]);
